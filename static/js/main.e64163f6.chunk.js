(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,n){"use strict";(function(e){var o=n(32),i=n.n(o),r=n(55),a=n(179),s=n(180);!function(){if("undefined"!==typeof e);else{if("undefined"===typeof window)throw new Error("cannot export Go (neither global, window nor self is defined)");window.global=window}var t="";e.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync:function(e,n){var i=(t+=o.decode(n)).lastIndexOf("\n");return-1!==i&&(console.log(t.substr(0,i)),t=t.substr(i+1)),n.length},write:function(e,t,n,o,i,r){if(0!==n||o!==t.length||null!==i)throw new Error("not implemented");r(null,this.writeSync(e,t))},open:function(e,t,n,o){var i=new Error("not implemented");i.code="ENOSYS",o(i)},read:function(e,t,n,o,i,r){var a=new Error("not implemented");a.code="ENOSYS",r(a)},fsync:function(e,t){t(null)}};var n=new TextEncoder("utf-8"),o=new TextDecoder("utf-8");e.Go=function(){function t(){var e=this;Object(a.a)(this,t),this.argv=["js"],this.env={},this.exit=function(e){0!==e&&console.warn("exit code:",e)},this._exitPromise=new Promise(function(t){e._resolveExitPromise=t}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;var i=function(){return new DataView(e._inst.exports.mem.buffer)},r=function(e,t){i().setUint32(e+0,t,!0),i().setUint32(e+4,Math.floor(t/4294967296),!0)},s=function(e){return i().getUint32(e+0,!0)+4294967296*i().getInt32(e+4,!0)},c=function(t){var n=i().getFloat64(t,!0);if(0!==n){if(!isNaN(n))return n;var o=i().getUint32(t,!0);return e._values[o]}},l=function(t,n){if("number"===typeof n)return isNaN(n)?(i().setUint32(t+4,2146959360,!0),void i().setUint32(t,0,!0)):0===n?(i().setUint32(t+4,2146959360,!0),void i().setUint32(t,1,!0)):void i().setFloat64(t,n,!0);switch(n){case void 0:return void i().setFloat64(t,0,!0);case null:return i().setUint32(t+4,2146959360,!0),void i().setUint32(t,2,!0);case!0:return i().setUint32(t+4,2146959360,!0),void i().setUint32(t,3,!0);case!1:return i().setUint32(t+4,2146959360,!0),void i().setUint32(t,4,!0)}var o=e._refs.get(n);void 0===o&&(o=e._values.length,e._values.push(n),e._refs.set(n,o));var r=0;switch(typeof n){case"string":r=1;break;case"symbol":r=2;break;case"function":r=3}i().setUint32(t+4,2146959360|r,!0),i().setUint32(t,o,!0)},u=function(t){var n=s(t+0),o=s(t+8);return new Uint8Array(e._inst.exports.mem.buffer,n,o)},d=function(e){for(var t=s(e+0),n=s(e+8),o=new Array(n),i=0;i<n;i++)o[i]=c(t+8*i);return o},m=function(t){var n=s(t+0),i=s(t+8);return o.decode(new DataView(e._inst.exports.mem.buffer,n,i))},f=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":function(t){var n=i().getInt32(t+8,!0);e.exited=!0,delete e._inst,delete e._values,delete e._refs,e.exit(n)},"runtime.wasmWrite":function(e){throw new Error("write is not implemented")},"runtime.nanotime":function(e){r(e+8,1e6*(f+performance.now()))},"runtime.walltime":function(e){var t=(new Date).getTime();r(e+8,t/1e3),i().setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":function(t){var n=e._nextCallbackTimeoutID;e._nextCallbackTimeoutID++,e._scheduledTimeouts.set(n,setTimeout(function(){e._resume()},s(t+8)+1)),i().setInt32(t+16,n,!0)},"runtime.clearTimeoutEvent":function(t){var n=i().getInt32(t+8,!0);clearTimeout(e._scheduledTimeouts.get(n)),e._scheduledTimeouts.delete(n)},"runtime.getRandomData":function(e){crypto.getRandomValues(u(e+8))},"syscall/js.stringVal":function(e){l(e+24,m(e+8))},"syscall/js.valueGet":function(t){var n=Reflect.get(c(t+8),m(t+16));t=e._inst.exports.getsp(),l(t+32,n)},"syscall/js.valueSet":function(e){Reflect.set(c(e+8),m(e+16),c(e+32))},"syscall/js.valueIndex":function(e){l(e+24,Reflect.get(c(e+8),s(e+16)))},"syscall/js.valueSetIndex":function(e){Reflect.set(c(e+8),s(e+16),c(e+24))},"syscall/js.valueCall":function(t){try{var n=c(t+8),o=Reflect.get(n,m(t+16)),r=d(t+32),a=Reflect.apply(o,n,r);t=e._inst.exports.getsp(),l(t+56,a),i().setUint8(t+64,1)}catch(s){l(t+56,s),i().setUint8(t+64,0)}},"syscall/js.valueInvoke":function(t){try{var n=c(t+8),o=d(t+16),r=Reflect.apply(n,void 0,o);t=e._inst.exports.getsp(),l(t+40,r),i().setUint8(t+48,1)}catch(a){l(t+40,a),i().setUint8(t+48,0)}},"syscall/js.valueNew":function(t){try{var n=c(t+8),o=d(t+16),r=Reflect.construct(n,o);t=e._inst.exports.getsp(),l(t+40,r),i().setUint8(t+48,1)}catch(a){l(t+40,a),i().setUint8(t+48,0)}},"syscall/js.valueLength":function(e){r(e+16,parseInt(c(e+8).length))},"syscall/js.valuePrepareString":function(e){var t=n.encode(String(c(e+8)));l(e+16,t),r(e+24,t.length)},"syscall/js.valueLoadString":function(e){var t=c(e+8);u(e+16).set(t)},"syscall/js.valueInstanceOf":function(e){i().setUint8(e+24,c(e+8)instanceof c(e+16))},debug:function(e){console.log(e)}}}}return Object(s.a)(t,[{key:"run",value:function(){var t=Object(r.a)(i.a.mark(function t(o){var r,a,s,c,l,u,d,m=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._inst=o,this._values=[NaN,0,null,!0,!1,e,this._inst.exports.mem,this],this._refs=new Map,this.exited=!1,r=new DataView(this._inst.exports.mem.buffer),a=4096,s=function(e){var t=a;return new Uint8Array(r.buffer,a,e.length+1).set(n.encode(e+"\0")),a+=e.length+(8-e.length%8),t},c=this.argv.length,l=[],this.argv.forEach(function(e){l.push(s(e))}),u=Object.keys(this.env).sort(),l.push(u.length),u.forEach(function(e){l.push(s("".concat(e,"=").concat(m.env[e])))}),d=a,l.forEach(function(e){r.setUint32(a,e,!0),r.setUint32(a+4,0,!0),a+=8}),this._inst.exports.run(c,d),this.exited&&this._resolveExitPromise(),t.next=19,this._exitPromise;case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_resume",value:function(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}},{key:"_makeFuncWrapper",value:function(e){var t=this;return function(){var n={id:e,this:this,args:arguments};return t._pendingEvent=n,t._resume(),n.result}}}]),t}()}(),t.a=e.Go}).call(this,n(37))},215:function(e,t,n){e.exports=n(453)},453:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"fib",function(){return N}),n.d(o,"stream",function(){return I}),n.d(o,"strings",function(){return F}),n.d(o,"lambdas",function(){return W}),n.d(o,"quine",function(){return A}),n.d(o,"hundredDoors",function(){return M});var i=n(0),r=n.n(i),a=n(30),s=n.n(a),c=(n(220),n(178)),l=n(32),u=n.n(l),d=n(55),m=n(58),f=n(119),p=n(25),h=n(474),g=n(472),v=n(120),w=n(181),b=n.n(w),x=n(182),y=n.n(x),E=n(83),O=n.n(E);n(311);O.a.define("ace/mode/wdte",function(e,t,n){var o=e("ace/lib/oop"),i=e("ace/mode/text").Mode,r=e("ace/mode/text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"comment",regex:"^#.*$"},{token:"constant",regex:"[0-9]+|[0-9]+\\.[0-9]+|\\.[0-9]+"},{token:"keyword",regex:"(\\b(memo|let|import)\\b)"},{token:"keyword.operator",regex:"\\.|\\{|\\}|\\[|\\]|\\(|\\)|=>|;|:|->|--|-\\||\\(@"},{token:"string",regex:"(([\"']).*\\2)"}]}};o.inherits(a,r);var s=function(){this.HighlightRules=a};o.inherits(s,i),t.Mode=s});var j=n(467),k=n(469),_=n(471),T=n(468),C=n(470),S=n(121),D=n.n(S),U="Introduction\n============\n\nWelcome to the WDTE playground, a browser based evaluation environment for WDTE. This playground's features includes the standard function set as well as a number of importable modules.\n\nIf you have never seen WDTE before and are completely confused at the moment, try reading the overview on the WDTE project's wiki: https://github.com/DeedleFake/wdte/wiki\n\nFun Fact\n--------\n\nThe WDTE interpreter has been compiled to WebAssembly for this playground, meaning that, by opening this page, you've downloaded the entire system. Congratulations.\n\nDocumentation\n-------------\n\nFor documentation on the standard function set, see https://godoc.org/github.com/DeedleFake/wdte/std\n\nThe standard library is available for importing, with the exception of the `io/file` module. The `io` module is pre-inserted into the initial scope as `io`. There is also a `playground` module which provides interaction with the playground. It is detailed below.\n\nPlayground Module\n-----------------\n\n#### wdteVersion\n    wdteVersion\nReturns the version of WDTE that the playground is using.\n\n#### goVersion\n    goVersion\nReturns the version of Go that the playground was built with.\n\nMacros\n------\n\n#### raw\nYields the raw text of its input.",R="io.stdout -> io.writeln 'Greetings, pocket universe.';",N={name:"Fibonacci",desc:"\nFibonacci\n=========\n\nThis example provides a memoized implementation of a recursive Fibonacci number generator. It also provides a recursive factorial function for the heck of it.\n",input:"let memo fib n => n {>= 2 => + (fib (- n 1)) (fib (- n 2))};\n\nlet ! n => n {\n\t<= 1 => 1;\n\ttrue => - n 1 -> ! -> * n;\n};\n\nfib 30\n-- io.writeln io.stdout\n-> / 5\n-- io.writeln io.stdout\n;"},I={name:"Stream",desc:"\nStream\n======\n\nThis example demonstrates the `stream` module. This module provides functional iterator operations, such as map, reduce, and filter.\n\nFor a full list of functions, see [the godocs][godoc].\n\n[godoc]: https://www.godoc.org/github.com/DeedleFake/wdte/std/stream\n",input:"let m => import 'math';\nlet s => import 'stream';\n\nio.writeln io.stdout 'Map and filter:';\ns.range 0 (* m.pi 2) (/ m.pi 2)\n-> s.map m.sin\n-> s.filter (>= 0)\n-> s.map (io.writeln io.stdout)\n-> s.drain\n;\n\nio.writeln io.stdout 'Reduce:';\ns.range 1 5\n-> s.reduce 1 *\n-- io.writeln io.stdout\n;"},F={name:"Strings",desc:"\nStrings\n=======\n\nThis example demonstrates the `strings` module. This module provides basic string operations, such as finding the index of a substring, as well as more complicated operations, such as formatting.\n\nFor a full list of functions, including an explanation of the formatting system, see [the godocs][godoc].\n\n[godoc]: https://www.godoc.org/github.com/DeedleFake/wdte/std/strings\n",input:"let a => import 'arrays';\nlet s => import 'stream';\nlet str => import 'strings';\n\na.stream ['abc'; 'bcd'; 'cde']\n-> s.map (str.index 'cd')\n-> s.collect\n-- io.writeln io.stdout\n;\n\n'This is the type of English up with which I will not put.'\n-> str.format '{q}'\n-- io.writeln io.stdout\n;"},W={name:"Lambdas",desc:"\nLambdas\n=======\n\nThis example demonstrates lambdas by implementing an iterative Fibonacci number calculator using streams.\n",input:"let s => import 'stream';\nlet a => import 'arrays';\n\nlet fib n => s.range 1 n\n\t-> s.reduce [0; 1] (@ self p n =>\n\t\tlet [a b] => p;\n\t\t[\n\t\t\tb;\n\t\t\t+ a b;\n\t\t];\n\t)\n\t-> at 1\n\t;\n\nfib 30\n-- io.writeln io.stdout\n;"},A={name:"Quine",desc:"\nQuine\n=====\n\nThis example is an implemenation of a quine. That's about it.\n",input:"let str => import 'strings';\nlet q => \"let str => import 'strings';\\nlet q => {q};\\nstr.format q q -- io.writeln io.stdout;\";\nstr.format q q -- io.writeln io.stdout;"},M={name:"100 Doors",desc:"\n100 Doors\n=========\n\nThe [100 doors problem](https://www.rosettacode.org/wiki/100_doors), as presented by Rosetta Code, is as follows:\n\nThere are 100 doors that are all closed. You walk past the doors in the same direction 100 times. On the first pass, you toggle the state of every door, opening closed doors and closing open doors. On the second pass, you toggle every second door. On the third you toggle every third door. Etc.\n\nThis example simulates this scenario, printing out the final state of the doors.\n",input:"let a => import 'arrays';\nlet s => import 'stream';\n\nlet toggle doors m =>\n\ta.stream doors\n\t-> s.enumerate\n\t-> s.map (@ s n => [+ (at n 0) 1; at n 1])\n\t-> s.map (@ s n => n {\n\t\t\t(@ s n => == (% (at n 0) m) 0) => ! (at n 1);\n\t\t\ttrue => at n 1;\n\t\t})\n\t-> s.collect\n\t;\n\ns.range 100\n-> s.map false\n-> s.collect : doors\n-> s.range 1 100\n-> s.reduce doors toggle\n-> a.stream\n-> s.map (@ s n => 0 {\n\t\tn => 'Open';\n\t\ttrue => 'Closed';\n\t} -- io.writeln io.stdout)\n-> s.drain\n;"},P=function(){var e=Object(d.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,n){window.WDTE.run(t,function(t,o){if(null!=t)return n(t);e(o)})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=document.createElement("textarea");t.value=e;try{if(document.body.appendChild(t),t.focus(),t.select(),!document.execCommand("copy"))throw new Error("copy failed")}finally{document.body.removeChild(t)}},q=Object(j.a)(function(e){return{"@font-face":{fontFamily:"Go Mono",src:"url(assets/Go-Mono.ttf)"},main:{display:"flex",flexDirection:"row",backgroundColor:"#EEEEEE",boxSizing:"border-box",padding:8,width:"100%",height:"100%",position:"absolute"},column:{display:"flex",flexDirection:"column",flex:"1 0 300px",margin:8,overflowY:"auto"},message:{marginBottom:"8px !important"},inputToolbar:{flex:0},input:{flex:"0 1 50%",borderRadius:8},outputWrapper:{display:"flex",flexDirection:"column",flex:"0 1 50%",marginTop:12,boxShadow:"inset 4px 4px 4px #AAAAAA",borderRadius:8,backgroundColor:"#CCCCCC"},outputToolbar:{flex:0,alignSelf:"end",margin:"8px !important"},output:{flex:"1 0 0",fontFamily:"Go-Mono",fontSize:14,margin:"8px 8px 0px 8px",border:0,backgroundColor:"inherit",resize:"none",whiteSpace:"pre"},slide:{"&.enter":{transition:"all 300ms",overflow:"hidden",maxHeight:0,"&.active":{maxHeight:"500px"}},"&.exit":{transition:"all 300ms",overflow:"hidden",maxHeight:"500px","&.active":{maxHeight:0}}}}}),V=function(e){var t=q(),n=Object(i.useState)(U),a=Object(p.a)(n,2),s=a[0],c=a[1],l=Object(i.useState)(function(){try{return D.a.inflate(v.Buffer.from(window.location.hash.substr(1),"base64"),{to:"string"})}catch(e){return console.warn(e),R}}),w=Object(p.a)(l,2),x=w[0],E=w[1],O=Object(i.useState)(""),j=Object(p.a)(O,2),S=j[0],N=j[1],I=Object(i.useReducer)(function(e,t){switch(t.$){case"add":return null!=t.timeout&&setTimeout(function(){A({$:"remove",id:e.id})},t.timeout),Object(f.a)({},e,Object(m.a)({id:e.id+1},e.id,{type:t.type,msg:t.msg}));case"remove":return Object.entries(e).filter(function(e){var n=Object(p.a)(e,2),o=n[0];return n[1],o!==t.id.toString()}).reduce(function(e,t){var n=Object(p.a)(t,2),o=n[0],i=n[1];return Object(f.a)({},e,Object(m.a)({},o,i))},{});default:return e}},{id:0}),F=Object(p.a)(I,2),W=F[0],A=F[1],M=Object(i.useCallback)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;A({$:"add",type:e,msg:t,timeout:n})},[]),V=Object(i.useCallback)(Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=N,e.next=4,P(x);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),N(e.t2.toString());case 11:case"end":return e.stop()}},e,null,[[0,8]])})),[x]),L=Object(i.useCallback)(function(){try{var e=v.Buffer.from(D.a.deflate(x)).toString("base64");G("".concat(window.location.origin).concat(window.location.pathname,"#").concat(e)),window.location.href="#".concat(e),M("success","Link successfully copied to clipboard.")}catch(t){M("error","Failed to copy to clipboard: ".concat(t.toString()))}},[x,M]),H=Object(i.useCallback)(function(){try{G(S),M("success","Output successfully copied to clipboard.")}catch(e){M("error","Failed to copy to clipboard: ".concat(e.toString()))}},[S,M]);return r.a.createElement("div",{className:t.main},r.a.createElement(h.a,{component:"div",className:t.column},Object.entries(W).filter(function(e){var t=Object(p.a)(e,2),n=t[0];return t[1],!isNaN(n)}).map(function(e){var n=Object(p.a)(e,2),o=n[0],i=n[1];return r.a.createElement(g.a,{key:o,classNames:{enter:"enter",enterActive:"active",exit:"exit",exitActive:"active"},timeout:300},r.a.createElement(k.a,Object.assign({className:[t.message,t.slide].join(" ")},Object(m.a)({},i.type,!0)),r.a.createElement("p",null,i.msg)))}),r.a.createElement(b.a,{source:s})),r.a.createElement("div",{className:t.column},r.a.createElement(_.a,{className:t.inputToolbar,inverted:!0},r.a.createElement(_.a.Item,{onClick:V},"Run"),r.a.createElement(T.a,{item:!0,text:"Examples"},r.a.createElement(T.a.Menu,null,Object.entries(o).map(function(e){var t=Object(p.a)(e,2),n=t[0],i=t[1];return r.a.createElement(T.a.Item,{key:n,value:n,onClick:function(e,t){c(o[t.value].desc),E(o[t.value].input)}},i.name)}))),r.a.createElement(_.a.Item,{position:"right",onClick:L},"Share")),r.a.createElement(y.a,{className:t.input,style:{width:null,height:null},editorProps:{$blockScrolling:1/0},mode:"wdte",theme:"vibrant_ink",value:x,onChange:function(e){return E(e)}}),r.a.createElement("div",{className:t.outputWrapper},r.a.createElement("textarea",{className:t.output,readOnly:!0,value:S}),r.a.createElement(C.a.Group,{compact:!0,className:t.outputToolbar},r.a.createElement(C.a,{icon:"clipboard",onClick:H})))))},L=new c.a;WebAssembly.instantiateStreaming(fetch("./wdte.wasm"),L.importObject).then(function(e){return L.run(e.instance)}),s.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.e64163f6.chunk.js.map