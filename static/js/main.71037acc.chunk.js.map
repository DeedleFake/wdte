{"version":3,"sources":["brace.js","initial.js","examples.js","wdte.js","App.js","clipboard.js","index.js"],"names":["brace","define","acequire","exports","module","oop","TextMode","Mode","TextHighlightRules","HighlightRules","this","$rules","start","token","regex","inherits","initial","fib","name","desc","input","stream","strings","lambdas","quine","hundredDoors","run","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","Promise","resolve","reject","window","WDTE","err","output","abrupt","sent","stop","_x","apply","arguments","useStyles","makeStyles","theme","@font-face","fontFamily","src","main","display","flexDirection","backgroundColor","boxSizing","padding","width","height","position","column","flex","margin","overflowY","minWidth","message","marginBottom","minHeight","fontSize","overflow","boxShadow","borderRadius","slide","&.enter","transition","maxHeight","&.active","&.exit","App","props","classes","_useState","useState","_useState2","slicedToArray","description","setDescription","_useState3","location","hash","decodeURIComponent","substr","_useState4","setInput","_useState5","_useState6","setOutput","encodedInput","useMemo","encodeURIComponent","_useReducer","useReducer","state","action","$","timeout","setTimeout","dispatchMessages","id","objectSpread","defineProperty","type","msg","entries","filter","_ref2","k","toString","reduce","acc","_ref3","_ref4","v","_useReducer2","messages","addMessage","useCallback","length","undefined","runCode","t0","wdte","t1","t2","share","text","el","document","createElement","value","body","appendChild","focus","select","execCommand","Error","removeChild","clipboard","concat","origin","pathname","react_default","className","react_transition_group","component","_ref6","_ref7","isNaN","map","_ref8","_ref9","key","classNames","enter","enterActive","exit","exitActive","Message","assign","join","react_markdown_default","source","Menu","inverted","Item","onClick","Dropdown","item","examples","_ref11","_ref12","example","ev","data","lib_default","style","mode","onChange","val","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.71037acc.chunk.js","sourcesContent":["// @format\n\nimport brace from 'brace'\nimport 'brace/theme/vibrant_ink'\n\nbrace.define('ace/mode/wdte', (acequire, exports, module) => {\n\tlet oop = acequire('ace/lib/oop')\n\tlet TextMode = acequire('ace/mode/text').Mode\n\tlet TextHighlightRules = acequire('ace/mode/text_highlight_rules')\n\t\t.TextHighlightRules\n\n\tlet HighlightRules = function() {\n\t\tthis.$rules = {\n\t\t\tstart: [\n\t\t\t\t{\n\t\t\t\t\ttoken: 'comment',\n\t\t\t\t\tregex: '^#.*$',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttoken: 'constant',\n\t\t\t\t\tregex: '[0-9]+|[0-9]+\\\\.[0-9]+|\\\\.[0-9]+',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttoken: 'keyword',\n\t\t\t\t\tregex: '(\\\\b(memo|let|import)\\\\b)',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttoken: 'keyword.operator',\n\t\t\t\t\tregex: '\\\\.|\\\\{|\\\\}|\\\\[|\\\\]|\\\\(|\\\\)|=>|;|:|->|--|-\\\\||\\\\(@',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttoken: 'string',\n\t\t\t\t\tregex: '(([\"\\']).*\\\\2)',\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\t}\n\toop.inherits(HighlightRules, TextHighlightRules)\n\n\tlet Mode = function() {\n\t\tthis.HighlightRules = HighlightRules\n\t}\n\toop.inherits(Mode, TextMode)\n\n\texports.Mode = Mode\n})\n","export default {\n\tdesc: `Introduction\n============\n\nWelcome to the WDTE playground, a browser based evaluation environment for WDTE. This playground's features includes the standard function set as well as a number of importable modules.\n\nIf you have never seen WDTE before and are completely confused at the moment, try reading the overview on the WDTE project's wiki: https://github.com/DeedleFake/wdte/wiki\n\nFun Fact\n--------\n\nThe WDTE interpreter has been compiled to WebAssembly for this playground, meaning that, by opening this page, you've downloaded the entire system. Congratulations.\n\nDocumentation\n-------------\n\nFor documentation on the standard function set, see https://godoc.org/github.com/DeedleFake/wdte/std\n\nThe standard library is available for importing, with the exception of the \\`io/file\\` module. The \\`io\\` module is pre-inserted into the initial scope as \\`io\\`.`,\n\n\tinput: `io.stdout -> io.writeln 'Greetings, pocket universe.';`,\n}\n","// @format\n\nexport const fib = {\n\tname: 'Fibonacci',\n\n\tdesc: `\nFibonacci\n=========\n\nThis example provides a memoized implementation of a recursive Fibonacci number generator. It also provides a recursive factorial function for the heck of it.\n`,\n\n\tinput: `let memo fib n => n {>= 2 => + (fib (- n 1)) (fib (- n 2))};\n\nlet ! n => n {\n\t<= 1 => 1;\n\ttrue => - n 1 -> ! -> * n;\n};\n\nfib 30\n-- io.writeln io.stdout\n-> / 5\n-- io.writeln io.stdout\n;`,\n}\n\nexport const stream = {\n\tname: 'Stream',\n\n\tdesc: `\nStream\n======\n\nThis example demonstrates the \\`stream\\` module. This module provides functional iterator operations, such as map, reduce, and filter.\n\nFor a full list of functions, see [the godocs][godoc].\n\n[godoc]: https://www.godoc.org/github.com/DeedleFake/wdte/std/stream\n`,\n\n\tinput: `let m => import 'math';\nlet s => import 'stream';\n\nio.writeln io.stdout 'Map and filter:';\ns.range 0 (* m.pi 2) (/ m.pi 2)\n-> s.map m.sin\n-> s.filter (>= 0)\n-> s.map (io.writeln io.stdout)\n-> s.drain\n;\n\nio.writeln io.stdout 'Reduce:';\ns.range 1 5\n-> s.reduce 1 *\n-- io.writeln io.stdout\n;`,\n}\n\nexport const strings = {\n\tname: 'Strings',\n\n\tdesc: `\nStrings\n=======\n\nThis example demonstrates the \\`strings\\` module. This module provides basic string operations, such as finding the index of a substring, as well as more complicated operations, such as formatting.\n\nFor a full list of functions, including an explanation of the formatting system, see [the godocs][godoc].\n\n[godoc]: https://www.godoc.org/github.com/DeedleFake/wdte/std/strings\n`,\n\n\tinput: `let a => import 'arrays';\nlet s => import 'stream';\nlet str => import 'strings';\n\na.stream ['abc'; 'bcd'; 'cde']\n-> s.map (str.index 'cd')\n-> s.collect\n-- io.writeln io.stdout\n;\n\n'This is the type of English up with which I will not put.'\n-> str.format '{q}'\n-- io.writeln io.stdout\n;`,\n}\n\nexport const lambdas = {\n\tname: 'Lambdas',\n\n\tdesc: `\nLambdas\n=======\n\nThis example demonstrates lambdas by implementing an iterative Fibonacci number calculator using streams.\n`,\n\n\tinput: `let s => import 'stream';\nlet a => import 'arrays';\n\nlet fib n => s.range 1 n\n\t-> s.reduce [0; 1] (@ self p n =>\n\t\tlet [a b] => p;\n\t\t[\n\t\t\tb;\n\t\t\t+ a b;\n\t\t];\n\t)\n\t-> at 1\n\t;\n\nfib 30\n-- io.writeln io.stdout\n;`,\n}\n\nexport const quine = {\n\tname: 'Quine',\n\n\tdesc: `\nQuine\n=====\n\nThis example is an implemenation of a quine. That's about it.\n`,\n\n\tinput: `let str => import 'strings';\nlet q => \"let str => import 'strings';\\\\nlet q => {q};\\\\nstr.format q q -- io.writeln io.stdout;\";\nstr.format q q -- io.writeln io.stdout;`,\n}\n\nexport const hundredDoors = {\n\tname: '100 Doors',\n\n\tdesc: `\n100 Doors\n=========\n\nThe [100 doors problem](https://www.rosettacode.org/wiki/100_doors), as presented by Rosetta Code, is as follows:\n\nThere are 100 doors that are all closed. You walk past the doors in the same direction 100 times. On the first pass, you toggle the state of every door, opening closed doors and closing open doors. On the second pass, you toggle every second door. On the third you toggle every third door. Etc.\n\nThis example simulates this scenario, printing out the final state of the doors.\n`,\n\n\tinput: `let a => import 'arrays';\nlet s => import 'stream';\n\nlet toggle doors m =>\n\ta.stream doors\n\t-> s.enumerate\n\t-> s.map (@ s n => [+ (at n 0) 1; at n 1])\n\t-> s.map (@ s n => n {\n\t\t\t(@ s n => == (% (at n 0) m) 0) => ! (at n 1);\n\t\t\ttrue => at n 1;\n\t\t})\n\t-> s.collect\n\t;\n\ns.range 100\n-> s.map false\n-> s.collect : doors\n-> s.range 1 100\n-> s.reduce doors toggle\n-> a.stream\n-> s.map (@ s n => 0 {\n\t\tn => 'Open';\n\t\ttrue => 'Closed';\n\t} -- io.writeln io.stdout)\n-> s.drain\n;`,\n}\n\n//export const Canvas = {\n//\tdesc: ``,\n//\tinput: ``,\n//}\n","// @format\n\nexport const run = async (input) => {\n\treturn await new Promise((resolve, reject) => {\n\t\twindow.WDTE.run(input, (err, output) => {\n\t\t\tif (err != null) {\n\t\t\t\treturn reject(err)\n\t\t\t}\n\n\t\t\tresolve(output)\n\t\t})\n\t})\n}\n","// @format\n\nimport React, { useState, useReducer, useCallback, useMemo } from 'react'\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\n\nimport ReactMarkdown from 'react-markdown'\n\nimport AceEditor from 'react-ace'\nimport './brace'\n\nimport { makeStyles } from '@material-ui/styles'\n\nimport { Menu, Dropdown, Message } from 'semantic-ui-react'\n\nimport initial from './initial'\nimport * as examples from './examples'\n\nimport * as wdte from './wdte'\nimport * as clipboard from './clipboard'\n\nconst useStyles = makeStyles((theme) => ({\n\t'@font-face': {\n\t\tfontFamily: 'Go Mono',\n\t\tsrc: 'url(assets/Go-Mono.ttf)',\n\t},\n\n\tmain: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\t//flexWrap: 'wrap-reverse',\n\n\t\tbackgroundColor: '#EEEEEE',\n\t\tboxSizing: 'border-box',\n\t\tpadding: 8,\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tposition: 'absolute',\n\t},\n\n\tcolumn: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\n\t\tflex: 1,\n\t\tmargin: 8,\n\t\toverflowY: 'auto',\n\t\tminWidth: 300,\n\t},\n\n\tmessage: {\n\t\tmarginBottom: '8px !important',\n\t},\n\n\toutput: {\n\t\tminHeight: 300,\n\t\tfontFamily: 'Go-Mono',\n\t\tfontSize: 12,\n\t\tflex: 1,\n\t\toverflow: 'auto',\n\t\tpadding: 8,\n\t\tboxShadow: 'inset 4px 4px 4px #AAAAAA',\n\t\tborderRadius: 8,\n\t\tbackgroundColor: '#CCCCCC',\n\t},\n\n\tslide: {\n\t\t'&.enter': {\n\t\t\ttransition: 'all 300ms',\n\t\t\toverflow: 'hidden',\n\n\t\t\tmaxHeight: 0,\n\n\t\t\t'&.active': {\n\t\t\t\tmaxHeight: '500px',\n\t\t\t},\n\t\t},\n\n\t\t'&.exit': {\n\t\t\ttransition: 'all 300ms',\n\t\t\toverflow: 'hidden',\n\n\t\t\tmaxHeight: '500px',\n\n\t\t\t'&.active': {\n\t\t\t\tmaxHeight: 0,\n\t\t\t},\n\t\t},\n\t},\n}))\n\nconst App = (props) => {\n\tconst classes = useStyles()\n\n\tconst [description, setDescription] = useState(initial.desc)\n\tconst [input, setInput] = useState(() =>\n\t\twindow.location.hash !== ''\n\t\t\t? decodeURIComponent(window.location.hash.substr(1))\n\t\t\t: initial.input,\n\t)\n\tconst [output, setOutput] = useState('')\n\n\tconst encodedInput = useMemo(() => encodeURIComponent(input), [input])\n\n\tconst [messages, dispatchMessages] = useReducer(\n\t\t(state, action) => {\n\t\t\tswitch (action.$) {\n\t\t\t\tcase 'add':\n\t\t\t\t\tif (action.timeout != null) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tdispatchMessages({\n\t\t\t\t\t\t\t\t$: 'remove',\n\t\t\t\t\t\t\t\tid: state.id,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, action.timeout)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...state,\n\t\t\t\t\t\tid: state.id + 1,\n\t\t\t\t\t\t[state.id]: {\n\t\t\t\t\t\t\ttype: action.type,\n\t\t\t\t\t\t\tmsg: action.msg,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\n\t\t\t\tcase 'remove':\n\t\t\t\t\treturn Object.entries(state)\n\t\t\t\t\t\t.filter(([k, v]) => k !== action.id.toString())\n\t\t\t\t\t\t.reduce((acc, [k, v]) => ({ ...acc, [k]: v }), {})\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn state\n\t\t\t}\n\t\t},\n\t\t{ id: 0 },\n\t)\n\n\tconst addMessage = useCallback(\n\t\t(type, msg, timeout = 3000) => {\n\t\t\tdispatchMessages({ $: 'add', type, msg, timeout })\n\t\t},\n\t\t[messages],\n\t)\n\n\tconst runCode = useCallback(async () => {\n\t\ttry {\n\t\t\tsetOutput(await wdte.run(input))\n\t\t} catch (err) {\n\t\t\tsetOutput(err.toString())\n\t\t}\n\t}, [input])\n\n\tconst share = useCallback(() => {\n\t\ttry {\n\t\t\tclipboard.copy(\n\t\t\t\t`${window.location.origin}${window.location.pathname}#${encodedInput}`,\n\t\t\t)\n\t\t\taddMessage('success', 'Link successfully copied to clipboard.')\n\t\t} catch (err) {\n\t\t\taddMessage('error', `Failed to copy to clipboard: ${err.toString()}`)\n\t\t}\n\t}, [encodedInput])\n\n\treturn (\n\t\t<div className={classes.main}>\n\t\t\t<TransitionGroup component=\"div\" className={classes.column}>\n\t\t\t\t{Object.entries(messages)\n\t\t\t\t\t.filter(([id, msg]) => !isNaN(id))\n\t\t\t\t\t.map(([id, msg]) => (\n\t\t\t\t\t\t<CSSTransition\n\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\tclassNames={{\n\t\t\t\t\t\t\t\tenter: 'enter',\n\t\t\t\t\t\t\t\tenterActive: 'active',\n\t\t\t\t\t\t\t\texit: 'exit',\n\t\t\t\t\t\t\t\texitActive: 'active',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttimeout={300}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\tclassName={[classes.message, classes.slide].join(' ')}\n\t\t\t\t\t\t\t\t{...{ [msg.type]: true }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p>{msg.msg}</p>\n\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t</CSSTransition>\n\t\t\t\t\t))}\n\n\t\t\t\t<ReactMarkdown source={description} />\n\t\t\t</TransitionGroup>\n\n\t\t\t<div className={classes.column}>\n\t\t\t\t<Menu inverted>\n\t\t\t\t\t<Menu.Item onClick={runCode}>Run</Menu.Item>\n\n\t\t\t\t\t<Dropdown item text=\"Examples\">\n\t\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t\t{Object.entries(examples).map(([id, example]) => (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t\tonClick={(ev, data) => {\n\t\t\t\t\t\t\t\t\t\tsetDescription(examples[data.value].desc)\n\t\t\t\t\t\t\t\t\t\tsetInput(examples[data.value].input)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{example.name}\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t{/*<Dropdown.Item onClick={onClickExample}>Canvas</Dropdown.Item>*/}\n\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t</Dropdown>\n\n\t\t\t\t\t<Menu.Item position=\"right\" onClick={share}>\n\t\t\t\t\t\tShare\n\t\t\t\t\t</Menu.Item>\n\t\t\t\t</Menu>\n\n\t\t\t\t{/* TODO: Find a way to use classes instead. */}\n\t\t\t\t<AceEditor\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: null,\n\t\t\t\t\t\theight: null,\n\t\t\t\t\t\tminHeight: 300,\n\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\tborderRadius: 8,\n\t\t\t\t\t}}\n\t\t\t\t\tmode=\"wdte\"\n\t\t\t\t\ttheme=\"vibrant_ink\"\n\t\t\t\t\tvalue={input}\n\t\t\t\t\tonChange={(val) => setInput(val)}\n\t\t\t\t/>\n\n\t\t\t\t<pre className={classes.output}>{output}</pre>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default App\n","// @format\n\nexport const copy = (text) => {\n\tconst el = document.createElement('textarea')\n\tel.value = text\n\n\ttry {\n\t\tdocument.body.appendChild(el)\n\t\tel.focus()\n\t\tel.select()\n\n\t\tif (!document.execCommand('copy')) {\n\t\t\tthrow new Error('copy failed')\n\t\t}\n\t} finally {\n\t\tdocument.body.removeChild(el)\n\t}\n}\n","// @format\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport 'semantic-ui-css/semantic.min.css'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}